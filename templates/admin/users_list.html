{% extends "base.html" %}

{% block title %}All Users - Admin Panel{% endblock %}

{% block content %}
<h2>All Users (Admin Only)</h2>

<table border="1" cellpadding="8">
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Email</th>
        <th>Role</th>
        <th>Status</th>
        <th>Action</th>
    </tr>

    {% for user in users %}
    <tr>
        <td>{{ user.id }}</td>
        <td>{{ user.name }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.role }}</td>
        <td>
            {% if user.is_active %}
                Active
            {% else %}
                Inactive
            {% endif %}
        </td>
        <td>
            {% if user.id != session.get('user_id') %}
            <a href="/admin/toggle-user/{{ user.id }}">
                {% if user.is_active %}
                    Disable
                {% else %}
                    Activate
                {% endif %}
            </a>
            {% else %}
                -
            {% endif %}
        </td>
    </tr>
    {% endfor %}
</table>

<br>
<a href="/admin/dashboard">Back to Dashboard</a>
{% endblock %}
